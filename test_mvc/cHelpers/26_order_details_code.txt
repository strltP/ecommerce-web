 if (id == null)
 {
     return NotFound();
 }

 int userId = int.Parse(User.FindFirstValue(ClaimTypes.NameIdentifier));

 var order = await _context.Orders
     .FirstOrDefaultAsync(m => m.Id == id && m.UserId == userId);
 if (order == null)
 {
     return NotFound();
 }

 ViewData["OrderDetails"] = await _context.OrderDetails.
                             Where(x => x.OrderId == id).ToListAsync();

 return View(order);