 //========================================================
 if (MainImage != null)
 {
     string d = Directory.GetCurrentDirectory();
     string fn = d + "\\wwwroot\\images\\banners\\" + product.ImageName;
     //------------------------------------------------
     if (System.IO.File.Exists(fn))
     {
         System.IO.File.Delete(fn);
     }
     //------------------------------------------------
     using (var stream = new FileStream(fn, FileMode.Create))
     {
         MainImage.CopyTo(stream);
     }
     //------------------------------------------------
 }
 //========================================================
 if (GalleryImages != null)
 {
     foreach (var item in GalleryImages)
     {

         var imageName = Guid.NewGuid() + Path.GetExtension(item.FileName);
         //------------------------------------------------
         string d = Directory.GetCurrentDirectory();
         string fn = d + "\\wwwroot\\images\\banners\\" + imageName;
         //------------------------------------------------
         using (var stream = new FileStream(fn, FileMode.Create))
         {
             item.CopyTo(stream);
         }
         //------------------------------------------------
         var galleryItem = new ProductGalery();
         galleryItem.ImageName = imageName;
         galleryItem.ProductId = product.Id;
         //------------------------------------------------
         _context.ProductGaleries.Add(galleryItem);
     }
 }
 //========================================================